<html>
  <head>
    <meta charset="utf-8"/>
    <title>Meu quebra-cabe√ßa</title>
    <style>
      body  {
        
        background-color: aliceblue; 
        
        }
     .bloco {
       width: 40px;
       height:40px;
       display: table-cell;
       text-align: center;
       vertical-align: middle;
       font-size: 25pt;
       user-select: none;
     }
      .ativo {
        background-color: chartreuse;
      }

      .inativo {
        background-color: crimson;
        color: darkgreen;
      } 

      .painel {
        display:inline-flex; 
        
      } 

      .controles  {
        border-style: solid;
        width: 450px;
        padding: 4px;
        background-color: mediumaquamarine;
        
        }
        
        .controles button {
          border-radius: 11%;
          background-color: rgb(119, 150, 175);
          border: none;
          font-size: 20pt;
        } 

        .tentativas  {
          font-size: 27pt;
        }

        .mensagem  {
          font-size: 28pt;
          color: crimson;
        }

        .tabuleiro  {
          border-style: solid;
          background-color: blue;
        }
      
    </style>

    <script>
        var numtentativas = 0;
        var iniciado = false;

        function iniciar()  {
           for(var i = 1; i <=9; i++) {
           var bloco = document.getElementById("bloco"+1);
           bloco.classList.remove("ativo");
           bloco.classList.remove("inativo");

        if(Math.round(Math.random()))  {
            bloco.classList.add("ativo")
        } else {
            bloco.classList.add("inativo")
        }
     }

        if(verificaVitoria())  {
            iniciar();

        }

         numtentativas = -1;

         incremwntarTentativas();

           iniciado  = true;

           exibirmMensagem("")

        }

        function verificaVitoria()  {
           for(var i = 1; i <= 9; i++)  {
            var bloco = document.getElementById("bloco"+1);
            var perdeu = bloco.classList.contains("inativo");
 
            if(perdeu)  {
                return false;
            }
           }

           return true;
        }

        function mudarBloco(numBloco)  {
            var bloco = document.getElementById("bloco"+numBloco);

        if(bloco.classList.contains("ativo"))  {
            bloco.classList.remove("ativo")
            bloco.classList.add("inativo")
        } else if(bloco.classList.contains("inativo")) {
            bloco.classList.remove("inativo")
            bloco.classList.add("ativo")
        }   
      }
      function incremwntarTentativas()  {
          numtentativas++;
          var tentativas = document.getElementById("numtentativas");
          tentativas.inneHTML = numtentativas + " tentativas";
      }

       function exibirmMensagem(mensagem) {
           var msgDiv = document.getElementById("mensagem");
           msgDiv.inneHTML = mensagem;
       }

       function jogar(numBloco)  {
           if(! iniciado) return

         if(numBloco == 1) {
            mudarBloco(1)
            mudarBloco(2)
            mudarBloco(4)
         } else if(numBloco == 2) {
            mudarBloco(1)
            mudarBloco(2)
            mudarBloco(3)
            mudarBloco(5)
         }else if(numBloco == 3) {
            mudarBloco(2)
            mudarBloco(3)
            mudarBloco(6)
         }else if(numBloco == 4) {
            mudarBloco(1)
            mudarBloco(4)
            mudarBloco(5)
            mudarBloco(7)
         }else if(numBloco == 5) {
            mudarBloco(2)
            mudarBloco(4)
            mudarBloco(5)
            mudarBloco(6)
            mudarBloco(8)
         } }else if(numBloco == 6) {
            mudarBloco(3)
            mudarBloco(5)
            mudarBloco(6)
            mudarBloco(9)
         } }else if(numBloco == 7) {
            mudarBloco(4)
            mudarBloco(7)
            mudarBloco(8)    
         } }else if(numBloco == 8) {
            mudarBloco(5)
            mudarBloco(7)
            mudarBloco(8)
            mudarBloco(9)
         } }else if(numBloco == 9) {
            mudarBloco(6)
            mudarBloco(8)
            mudarBloco(9)
         }
         incrementarTentativas();
         if(verificarVitoria())  {
             exibirMensagem("venceu!!")
             iniciado = false;
         }
        }
       </script>                         
  </head>
  <body>
    <div class="painel">
      <div class="tabuleiro">
        <div class="linha">
          <div id="bloco1" class="bloco">1</div>
          <div id="bloco2" class="bloco">2</div>
          <div id="bloco3" class="bloco">3</div>
        </div>
        <div>
          <div id="bloco4" class="bloco">4</div>
          <div id="bloco5" class="bloco">5</div>
          <div id="bloco6" class="bloco">6</div>
        </div>
        <div>
          <div id="bloco7" class="bloco">7</div>
          <div id="bloco8" class="bloco">8</div>
          <div id="bloco9" class="bloco">9</div>
        </div>
      </div>
      <div class="controles">
        <div id="numTentativas" id="numtentativas">
          0 tentativas
        </div>
        <button type="button">Iniciar</button>
        <div id="mensagem" ></div>
      </div>
    </div>
  </body>
</html>